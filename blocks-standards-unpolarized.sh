#!/bin/sh

rm -f 0021-*.json

if test "$1" = "clean"
then
  exit
fi
echo '
 0 L_92_245          00:54:16.16 +00:39:55.0 13.53
 1 L_92_250          00:54:37.16 +00:38:57.6 12.99
 2 L_93_317          01:54:37.73 +00:43:00.6 11.42
 3 L_93_333          01:55:05.21 +00:45:42.8 12.42
 4 L_93_424          01:55:26.36 +00:56:42.6 11.34
 5 L_94_251          02:57:46.98 +00:16:02.7 10.83
 6 H_HD283807        04:44:42.60 +25:56:09.6 9.96
#7 Z_HD85471         09:59:04.94 +80:22:47.6 7.83
#8 Z_HD87582         10:09:10.40 +71:41:15.5 7.07
#9 Z_HD96589         11:11:00.40 +80:56:55.9 7.54
#10 Z_HD97853        11:17:09.82 +75:21:11.1 7.16
11 Z_BD+35.2256     11:30:39.95 +35:09:50.3 10.40
12 Z_BD+29.2198     11:42:56.23 +28:32:39.2 10.19
13 Z_BD+31.2314     11:56:43.33 +30:48:45.5 10.83
14 Z_BD+25.2439     11:56:55.10 +24:12:09.6 10.23
15 Z_BD+18.2549     11:59:04.54 +17:21:07.4 10.34
16 Z_BD+32.2217     12:04:58.34 +31:21:06.1 10.46
17 Z_BD+22.2446     12:11:40.13 +21:19:08.7 10.75
18 Z_BD+40.2546     12:32:44.89 +39:55:20.2 10.85
19 Z_BD+30.2290     12:32:55.79 +29:33:52.9 11.39
20 L_104_334        12:42:20.43 -00:40:28.7 13.37
21 Z_BD+16.2491     13:19:08.90 +15:23:53.6 11.09
#22 Z_HD116513       13:21:49.84 +71:52:18.8 7.24
23 L_PG1323-085B    13:25:50.65 -08:50:55.9 13.21
24 Z_BD+31.2505     13:32:32.16 +30:49:09.5 10.14
25 Z_BD+30.2431     13:38:24.77 +29:21:56.0 10.03
#26 Z_HD121859       13:54:53.28 +71:54:11.6 7.99
27 L_106_700        14:40:50.94 -00:23:36.2 9.33
28 L_112_805        20:42:46.75 +00:16:08.1 12.07
29 L_112_822        20:42:54.91 +00:15:01.9 11.26
30 L_113_339        21:40:55.68 +00:27:58.1 12.10
31 L_113_241        21:41:09.19 +00:25:48.2 13.73
32 B_2202+4216_129  22:02:33.40 +42:14:25.3 14.10
33 B_2253+1608_23   22:54:11.22 +16:14:04.8 13.48
34 L_115_420        23:42:36.48 +01:05:58.8 11.05
' | sed '/^$/d;/^#/d' | while read blockid name alpha delta G
do
  suffix=$(printf "%02d" $blockid)
  cat <<EOF2 >0021-standard-unpolarized-$suffix.json
{
  "project": {
    "identifier": "0021",
    "name": "standards - unpolarized"
  },
  "identifier": "$blockid",
  "name": "$name",
  "visits": [
    {
      "identifier": "0",
      "name": "standard - unpolarized",
      "targetcoordinates": {
        "type"   : "equatorial",
        "alpha"  : "$alpha",
        "delta"  : "$delta",
        "equinox": "2000"
      },
      "command": "tequilagridvisit 1 9 2 10",
      "estimatedduration": "5m"
    }
  ],
  "constraints": {
    "maxskybrightness": "nauticaltwilight",
    "maxzenithdistance": "50d",
    "minzenithdistance": "10d",
    "minmoondistance": "15d"
  },
  "priority": "10",
  "persistent": "false"
}
EOF2
done
