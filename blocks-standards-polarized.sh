#!/bin/sh

rm -f 0022-*.json

if test "$1" = "clean"
then
  exit
fi
echo '
 0 B_0211+1051_37      02:10:59.84 +10:48:05.7 13.05
 1 B_0211+1051_18      02:11:39.60 +10:53:15.4 13.50
 2 L_94_242            02:57:21.21 +00:18:38.7 11.67
 3 B_0259+0747_30      02:59:31.71 +07:44:09.4 14.68
 4 B_0303+4716_121     03:03:04.56 +47:21:25.9 14.55
 5 H_GSC02355          03:37:45.11 +31:06:58.2 12.74
 6 L_95_330            03:54:30.75 +00:29:05.4 11.16
 7 L_95_275            03:54:44.24 +00:27:20.3 12.65
 8 L_107_599           15:39:09.46 -00:14:28.3 14.48
 9 L_107_602           15:39:18.88 -00:15:29.0 11.82
10 L_PG1633+099B       16:35:33.30 +09:46:20.7 12.65
11 L_PG1633+099D       16:35:40.90 +09:46:41.5 13.54
12 B_1725+1152_11      17:24:47.28 +11:46:50.2 13.81
13 B_1725+1152_24      17:24:56.26 +11:55:41.3 13.86
14 B_1725+1152_35      17:25:15.72 +11:46:34.6 12.71
15 B_1725+1152_113     17:25:16.51 +11:47:06.2 12.79
16 L_109_381           17:44:12.27 -00:20:32.2 11.51
17 B_1751+0939_376     17:51:43.60 +09:43:51.6 10.13
18 B_1751+0939_129     17:51:45.73 +09:40:45.3 14.60
19 L_110_229           18:40:45.66 +00:01:49.8 12.53
20 L_110_233           18:40:52.71 +00:00:50.8 12.19
21 L_111_1965          19:37:41.56 +00:26:51.0 10.70
22 B_1959+6508_179     19:59:12.96 +65:12:13.7 13.38
23 B_1959+6508_73      19:59:34.24 +65:06:19.1 12.56
24 B_1959+6508_104     20:00:37.89 +65:13:59.0 12.73
25 B_1959+6508_38      20:00:58.14 +65:07:11.9 12.50
26 B_2015-0137_102     20:15:04.91 -01:41:26.1 12.84
27 B_2022+7611_1       20:20:52.70 +76:17:42.8 12.04
28 B_2042+7508_28      20:41:12.89 +75:12:30.6 11.78
29 B_2340+8015_34      23:41:38.22 +80:20:16.9 13.73
' | sed '/^$/d;/^#/d' | while read blockid name alpha delta G
do
  suffix=$(printf "%02d" $blockid)
  cat <<EOF2 >0022-standard-polarized-$suffix.json
{
  "project": {
    "identifier": "0022",
    "name": "standards - polarized"
  },
  "identifier": "$blockid",
  "name": "$name",
  "visits": [
    {
      "identifier": "0",
      "name": "standard - polarized",
      "targetcoordinates": {
        "type"   : "equatorial",
        "alpha"  : "$alpha",
        "delta"  : "$delta",
        "equinox": "2000"
      },
      "command": "tequilagridvisit 1 9 2 10",
      "estimatedduration": "5m"
    }
  ],
  "constraints": {
    "maxskybrightness": "nauticaltwilight",
    "maxzenithdistance": "50d",
    "minzenithdistance": "10d",
    "minmoondistance": "15d"
  },
  "priority": "10",
  "persistent": "false"
}
EOF2
done
